# Assembly-Experiment


### 实验目的 
1) 利用本学期所学汇编知识完成一次综合设计。 
2) 熟悉各种输入、输出方法的调用方法。 

### 实验内容 
设计一个打字练习软件，具体要求如下：
1) 利用BIOS的屏幕窗口功能制作一个用户菜单，菜单包括：① 欢迎用语，提示按“ESC”键退出练习；② 开始练习，给出练习句子；③ 显示成绩和时间； ④ 退出用语。
2) 每次打字之前，屏幕上先显示出一个句子，然后打字员按照例句，将句中字符通过键盘输入。这个过程反复进行。利用BIOS 16H键盘功能调用来判断输入是否正确，不正确给出标示。
3) 利用DOS系统时间调用计时，屏幕上以min:sec:msec的格式显示出练习时间。
4) 练习句子定义在数据段中，定义10行，每行10个字符，区分大小写，分数根据准确率给出；允许中途退出，退出时给出提示语和选择，确定退出不给分和计时。

### 实验报告的要求 
1) 列出源程序。 
2) 总结输入输出程序及菜单的编写方法。 
3) 总结常用系统调用的功能及调用方法。

### 程序流程图（见文件）

### 源码（见文件）

### 实验总结
总结输入输出程序及菜单的编写方法。 

1) 输入程序：
本次实验中，需要用到的是字符输入。字符输入有两种方法——中断号21h的1号功能和中断号16h的0号功能。如下所示：
 ```
	  mov ah,1
		int 21h
		mov ah,0
		int 16h
 ```
两者输入的字符都保存在寄存器al中。
	
2) 输出程序：
		本次实验中，为了实现界面的美观性，所以输出的字符串需要有多种颜色。实验中，实现字符的多颜色输出的过程如下：
1.	调用中断号10h的7号功能，在其属性中设置背景颜色和字符颜色，即给bh寄存器赋相应的值。
2.	调用中断号21h的9号功能，输出字符串。
		这样就可以实现字符的多颜色输出。另外，实验还需要实现字符串的定点输出，主要过程如下：
1.	调用中断号10h的2号功能，设置光标位置，即为寄存器dl、dh赋相应的值。
2.	调用中断号21h的9号功能，输出字符串。
		鉴于实验经常用到以上的输出功能，可将上述功能封装为宏。
	3）菜单编写方法：
		菜单编写步骤如下：
1.	开内窗口。调用中断号10h的6号功能或7号功能，在界面上开立新窗口，通过颜色的不同区分主窗口。
2.	调用上述宏定义的字符串输出功能，输出菜单的提示语和选项。
3.	调用输入字符程序等待用户在键盘输入其选择，然后比较输入的字符决定下一步的功能执行


二、总结常用系统调用的功能及调用方法。

dos功能调用
功能	功能号	备注
字符输入	1h	读入的字符在al寄存器
字符输出	2h	输出字符在dl寄存器
字符串输出	9h	DS  指向字符串所在的段
DX  指向字符串串首的位移
字符串输入	Ah	DX  指向字符串串首的位移


